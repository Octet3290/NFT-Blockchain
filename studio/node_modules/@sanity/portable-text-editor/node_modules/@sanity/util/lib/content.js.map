{"version":3,"file":"content.js","sources":["../src/content/hasOwn.ts","../src/content/isEmpty.ts","../src/content/randomKey.ts","../src/content/resolveJSType.ts","../src/content/resolveTypeName.ts"],"sourcesContent":["export default Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty)\n","import hasOwn from './hasOwn'\n\nexport function isEmptyObject(value: {[key: string]: any}): boolean {\n  for (const key in value) {\n    if (key === '_type' || key === '_key') {\n      continue\n    }\n    if (hasOwn(value, key) && !isEmpty(value[key])) {\n      return false\n    }\n  }\n  return true\n}\n\nexport function isEmptyArray(value: unknown[]): boolean {\n  for (let i = 0; i < value.length; i++) {\n    if (isEmpty(value[i])) {\n      return true\n    }\n  }\n  return false\n}\n\nexport function isEmpty(value: any): boolean {\n  if (value === undefined || value === null) {\n    return true\n  }\n  const type = typeof value\n  if (type === 'object') {\n    return isEmptyObject(value)\n  }\n  if (Array.isArray(value)) {\n    return isEmptyArray(value)\n  }\n  return false\n}\n","import getRandomValues from 'get-random-values-esm'\n\nconst getByteHexTable = (() => {\n  let table: any[]\n  return () => {\n    if (table) {\n      return table\n    }\n\n    table = []\n    for (let i = 0; i < 256; ++i) {\n      table[i] = (i + 0x100).toString(16).substring(1)\n    }\n    return table\n  }\n})()\n\n// WHATWG crypto RNG - https://w3c.github.io/webcrypto/Overview.html\nfunction whatwgRNG(length = 16) {\n  const rnds8 = new Uint8Array(length)\n  getRandomValues(rnds8)\n  return rnds8\n}\n\nexport function randomKey(length?: number): string {\n  const table = getByteHexTable()\n  return whatwgRNG(length)\n    .reduce((str, n) => str + table[n], '')\n    .slice(0, length)\n}\n","const toString = Object.prototype.toString\n// Copied from https://github.com/ForbesLindesay/type-of, but inlined to have fine grained control\n\nexport function resolveJSType(val: unknown) {\n  switch (toString.call(val)) {\n    case '[object Function]':\n      return 'function'\n    case '[object Date]':\n      return 'date'\n    case '[object RegExp]':\n      return 'regexp'\n    case '[object Arguments]':\n      return 'arguments'\n    case '[object Array]':\n      return 'array'\n    case '[object String]':\n      return 'string'\n    default:\n  }\n\n  if (typeof val == 'object' && val && typeof (val as any).length == 'number') {\n    try {\n      if (typeof (val as any).callee == 'function') {\n        // eslint-disable-line max-depth\n        return 'arguments'\n      }\n    } catch (ex) {\n      if (ex instanceof TypeError) {\n        // eslint-disable-line max-depth\n        return 'arguments'\n      }\n    }\n  }\n\n  if (val === null) {\n    return 'null'\n  }\n\n  if (val === undefined) {\n    return 'undefined'\n  }\n\n  if (val && (val as any).nodeType === 1) {\n    return 'element'\n  }\n\n  if (val === Object(val)) {\n    return 'object'\n  }\n\n  return typeof val\n}\n","import {resolveJSType} from './resolveJSType'\n\nexport function resolveTypeName(value: unknown): string {\n  const jsType = resolveJSType(value)\n  if (jsType !== 'object') {\n    return jsType\n  }\n\n  const obj = value as Record<string, unknown> & {_type?: string}\n  return ('_type' in obj && obj._type) || jsType\n}\n"],"names":[],"mappings":"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"}