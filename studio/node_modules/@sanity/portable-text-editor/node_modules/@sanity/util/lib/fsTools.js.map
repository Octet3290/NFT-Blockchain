{"version":3,"file":"fsTools.js","sources":["../src/fsTools.ts"],"sourcesContent":["import path from 'path'\nimport os from 'os'\nimport fs from 'fs/promises'\n\nexport async function pathIsEmpty(dir: string): Promise<boolean> {\n  try {\n    const content = await fs.readdir(absolutify(dir))\n    return content.length === 0\n  } catch (err) {\n    if (err.code === 'ENOENT') {\n      return true\n    }\n\n    throw err\n  }\n}\n\nexport function expandHome(filePath: string): string {\n  if (\n    filePath.charCodeAt(0) === 126\n    /* ~ */\n  ) {\n    if (\n      filePath.charCodeAt(1) === 43\n      /* + */\n    ) {\n      return path.join(process.cwd(), filePath.slice(2))\n    }\n\n    const home = os.homedir()\n    return home ? path.join(home, filePath.slice(1)) : filePath\n  }\n\n  return filePath\n}\n\nexport function absolutify(dir: string): string {\n  const pathName = expandHome(dir)\n  return path.isAbsolute(pathName) ? pathName : path.resolve(process.cwd(), pathName)\n}\n"],"names":[],"mappings":";;;;AAIO,eAAe,WAAW,CAAC,GAAW,EAAA;IAC3C,IAAI;AACF,QAAA,MAAM,OAAO,GAAG,MAAM,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAA;AACjD,QAAA,OAAO,OAAO,CAAC,MAAM,KAAK,CAAC,CAAA;AAC5B,KAAA;AAAC,IAAA,OAAO,GAAG,EAAE;AACZ,QAAA,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,EAAE;AACzB,YAAA,OAAO,IAAI,CAAA;AACZ,SAAA;AAED,QAAA,MAAM,GAAG,CAAA;AACV,KAAA;AACH,CAAC;AAEK,SAAU,UAAU,CAAC,QAAgB,EAAA;AACzC,IAAA,IACE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,GAAG;;AAE9B,MAAA;AACA,QAAA,IACE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,EAAE;;AAE7B,UAAA;AACA,YAAA,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;AACnD,SAAA;AAED,QAAA,MAAM,IAAI,GAAG,EAAE,CAAC,OAAO,EAAE,CAAA;QACzB,OAAO,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAA;AAC5D,KAAA;AAED,IAAA,OAAO,QAAQ,CAAA;AACjB,CAAC;AAEK,SAAU,UAAU,CAAC,GAAW,EAAA;AACpC,IAAA,MAAM,QAAQ,GAAG,UAAU,CAAC,GAAG,CAAC,CAAA;IAChC,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,QAAQ,CAAC,CAAA;AACrF;;;;"}